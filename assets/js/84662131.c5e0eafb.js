"use strict";(self.webpackChunkmaterial=self.webpackChunkmaterial||[]).push([[3232],{1584:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>n,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"Criptografia/AlgoritmosSimetricos/AES","title":"AES","description":"Todo mundo j\xe1 ouviu falar de AES. \xc9 o \u201ccifr\xe3o oficial\u201d da internet moderna. Se voc\xea usa VPN, abre um site com HTTPS ou desbloqueia um app banc\xe1rio, tem uma boa chance de estar passando por ele.","source":"@site/docs/Criptografia/AlgoritmosSimetricos/AES.md","sourceDirName":"Criptografia/AlgoritmosSimetricos","slug":"/Criptografia/AlgoritmosSimetricos/AES","permalink":"/material/Criptografia/AlgoritmosSimetricos/AES","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Criptografia/AlgoritmosSimetricos/AES.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"AES","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Cifras de Bloco vs. Cifras de Fluxo","permalink":"/material/Criptografia/AlgoritmosSimetricos/cifras"},"next":{"title":"Algoritmos Assim\xe9tricos","permalink":"/material/Criptografia/AlgoritmosAssimetricos/"}}');var i=a(4848),r=a(8453);const n={title:"AES",sidebar_position:2},d="AES e seus Modos de Opera\xe7\xe3o",c={},t=[{value:"1. AES: a cifra de bloco que virou padr\xe3o global",id:"1-aes-a-cifra-de-bloco-que-virou-padr\xe3o-global",level:2},{value:"2. Modos de Opera\xe7\xe3o",id:"2-modos-de-opera\xe7\xe3o",level:2},{value:"2.1 ECB \u2014 O jeito mais errado de usar AES",id:"21-ecb--o-jeito-mais-errado-de-usar-aes",level:3},{value:"2.2 CTR \u2014 AES disfar\xe7ado de cifra de fluxo",id:"22-ctr--aes-disfar\xe7ado-de-cifra-de-fluxo",level:3},{value:"GCM \u2014 Cifra com autentica\xe7\xe3o embutida",id:"gcm--cifra-com-autentica\xe7\xe3o-embutida",level:3},{value:"Boas pr\xe1ticas",id:"boas-pr\xe1ticas",level:3},{value:"3. Conclus\xe3o",id:"3-conclus\xe3o",level:2}];function l(e){const o={a:"a",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"aes-e-seus-modos-de-opera\xe7\xe3o",children:"AES e seus Modos de Opera\xe7\xe3o"})}),"\n",(0,i.jsx)(o.p,{children:"Todo mundo j\xe1 ouviu falar de AES. \xc9 o \u201ccifr\xe3o oficial\u201d da internet moderna. Se voc\xea usa VPN, abre um site com HTTPS ou desbloqueia um app banc\xe1rio, tem uma boa chance de estar passando por ele."}),"\n",(0,i.jsx)(o.p,{children:"Mas a pergunta que pouca gente faz \xe9:"}),"\n",(0,i.jsx)(o.p,{children:"AES como?"}),"\n",(0,i.jsx)(o.p,{children:"Sim, porque o algoritmo \xe9 sempre o mesmo. Mas o modo de opera\xe7\xe3o muda tudo.\nE entender isso \xe9 o que separa o operador de ferramenta do profissional de seguran\xe7a de verdade."}),"\n",(0,i.jsx)(o.h2,{id:"1-aes-a-cifra-de-bloco-que-virou-padr\xe3o-global",children:"1. AES: a cifra de bloco que virou padr\xe3o global"}),"\n",(0,i.jsx)(o.p,{children:"O AES (Advanced Encryption Standard) foi padronizado pelo NIST no in\xedcio dos anos 2000 para substituir o DES, que j\xe1 tinha sido praticamente aposentado por exaust\xe3o (literalmente \u2014 56 bits de chave n\xe3o seguravam mais nada)."}),"\n",(0,i.jsx)(o.p,{children:"O AES funciona com:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Blocos fixos de 128 bits"}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Chaves de 128, 192 ou 256 bits"}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"10, 12 ou 14 rodadas de transforma\xe7\xe3o, dependendo da chave"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"E dentro de cada rodada, quatro opera\xe7\xf5es b\xe1sicas:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Substitui\xe7\xe3o de bytes (S-Box)"}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Permuta\xe7\xe3o de linhas (ShiftRows)"}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Mistura de colunas (MixColumns)"}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Adi\xe7\xe3o de chave (AddRoundKey)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["Para entender melhor como funciona esse processo ",(0,i.jsx)(o.a,{href:"https://www.lncc.br/~borges/doc/O%20algoritmo%20AES%20Apresentacao%20e%20Descricao%20da%20Estrura.pdf",children:"cliquem aqui"})]}),"\n",(0,i.jsx)(o.h2,{id:"2-modos-de-opera\xe7\xe3o",children:"2. Modos de Opera\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Beleza. Mas at\xe9 aqui, ele s\xf3 est\xe1 cifrando um \xfanico bloco de 128 bits, certo?"}),"\n",(0,i.jsx)(o.p,{children:"O que acontece quando voc\xea precisa cifrar um arquivo inteiro, um fluxo cont\xednuo de dados, ou uma imagem?"}),"\n",(0,i.jsx)(o.p,{children:"A resposta vem nos modos de opera\xe7\xe3o do AES"}),"\n",(0,i.jsx)(o.h3,{id:"21-ecb--o-jeito-mais-errado-de-usar-aes",children:"2.1 ECB \u2014 O jeito mais errado de usar AES"}),"\n",(0,i.jsx)(o.p,{children:"Vamos come\xe7ar com o modo mais simples \u2014 e mais perigoso: o ECB (Electronic Codebook)."}),"\n",(0,i.jsx)(o.p,{children:"Nesse modo, cada bloco de 128 bits \xe9 cifrado de forma independente, ou seja, mesma chave, mesma entrada, mesmo resultado."}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.em,{children:"\u201cU\xe9, isso \xe9 ruim?\u201d"}),"\n",(0,i.jsx)(o.em,{children:"R: Muito ruim."})]}),"\n",(0,i.jsx)(o.p,{children:"Porque se dois blocos de texto original forem iguais, os blocos cifrados tamb\xe9m ser\xe3o id\xeanticos.\nE isso revela padr\xf5es vis\xedveis. J\xe1 viu aquela imagem do pinguim Tux cifrada com AES-ECB? Ainda d\xe1 pra ver o pinguim!"}),"\n",(0,i.jsx)("p",{style:{textAlign:"center"},children:" Tux com AES - ECB"}),"\n",(0,i.jsx)("div",{style:{textAlign:"center"},children:(0,i.jsx)("img",{src:"../../img/ecb_problem.jpg "})}),"\n",(0,i.jsx)("p",{}),"\n",(0,i.jsx)(o.p,{children:"Resultado: nada de confidencialidade estrutural. ECB s\xf3 \xe9 seguro se seus dados forem completamente aleat\xf3rios, o que raramente acontece no mundo real."}),"\n",(0,i.jsx)(o.p,{children:"Se voc\xea est\xe1 usando AES-ECB para qualquer coisa sens\xedvel, voc\xea est\xe1 errado!"}),"\n",(0,i.jsx)(o.h3,{id:"22-ctr--aes-disfar\xe7ado-de-cifra-de-fluxo",children:"2.2 CTR \u2014 AES disfar\xe7ado de cifra de fluxo"}),"\n",(0,i.jsx)(o.p,{children:"Aqui, a ideia \xe9:"}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.em,{children:"\u201cVamos usar o AES para gerar um fluxo de bits pseudoaleat\xf3rio, como se fosse uma One-Time Pad moderna.\u201d"})}),"\n",(0,i.jsx)(o.p,{children:"Funciona assim:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Voc\xea pega um contador (nonce + n\xfamero crescente)."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Cifra esse contador com AES."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Pega o resultado e aplica XOR com o bloco de texto original."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Pronto. Voc\xea n\xe3o cifrou o texto diretamente. Voc\xea gerou um keystream e misturou com ele."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"O que isso permite?"}),"\n",(0,i.jsx)(o.p,{children:"Paralelismo total, cada bloco pode ser cifrado/descriptografado separadamente."}),"\n",(0,i.jsx)(o.p,{children:"Seguran\xe7a forte, desde que o contador n\xe3o se repita nunca com a mesma chave"}),"\n",(0,i.jsx)(o.p,{children:"O CTR transforma o AES de cifra de bloco em cifra de fluxo confi\xe1vel,o que torna ele a base para muitos sistemas de criptografia r\xe1pida como criptografia de disco, transmiss\xf5es de alta velocidade e VPNs."}),"\n",(0,i.jsx)(o.h3,{id:"gcm--cifra-com-autentica\xe7\xe3o-embutida",children:"GCM \u2014 Cifra com autentica\xe7\xe3o embutida"}),"\n",(0,i.jsx)(o.p,{children:"Agora entra o modo GCM (Galois/Counter Mode), o favorito dos protocolos modernos como TLS 1.2 e 1.3."}),"\n",(0,i.jsx)(o.p,{children:"Ele pega tudo de bom do CTR e adiciona autentica\xe7\xe3o integrada."}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.em,{children:"\u201cMas autentica\xe7\xe3o no sentido de login?\u201d"})}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.em,{children:"N\xe3o. Autentica\xe7\xe3o no sentido de garantir que a mensagem n\xe3o foi alterada."})}),"\n",(0,i.jsx)(o.p,{children:"O GCM gera, al\xe9m do texto cifrado, uma tag de autentica\xe7\xe3o baseada em opera\xe7\xf5es num campo de Galois."}),"\n",(0,i.jsx)(o.p,{children:"Essa tag funciona como uma assinatura criptogr\xe1fica da mensagem e de dados adicionais (como cabe\xe7alhos ou metadados)."}),"\n",(0,i.jsx)(o.p,{children:"GCM \xe9 um modo AEAD (Authenticated Encryption with Associated Data):"}),"\n",(0,i.jsx)(o.p,{children:"Ele cifra, autentica, e ainda deixa voc\xea validar dados extras que n\xe3o precisam ser cifrados, como headers."}),"\n",(0,i.jsx)(o.p,{children:"Resultado: confidencialidade + integridade, com uma tacada s\xf3."}),"\n",(0,i.jsx)(o.p,{children:"Qual usar, e quando?"}),"\n",(0,i.jsxs)(o.table,{children:[(0,i.jsx)(o.thead,{children:(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.th,{children:"Modo"}),(0,i.jsx)(o.th,{children:"Seguran\xe7a"}),(0,i.jsx)(o.th,{children:"Autentica\xe7\xe3o"}),(0,i.jsx)(o.th,{children:"Performance"}),(0,i.jsx)(o.th,{children:"Uso comum"})]})}),(0,i.jsxs)(o.tbody,{children:[(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"ECB"})}),(0,i.jsx)(o.td,{children:"Fraca"}),(0,i.jsx)(o.td,{children:"\u274c"}),(0,i.jsx)(o.td,{children:"Alta"}),(0,i.jsx)(o.td,{children:"Nunca"})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"CTR"})}),(0,i.jsx)(o.td,{children:"Forte (com nonce \xfanico)"}),(0,i.jsx)(o.td,{children:"\u274c"}),(0,i.jsx)(o.td,{children:"Muito alta"}),(0,i.jsx)(o.td,{children:"VPN, discos"})]}),(0,i.jsxs)(o.tr,{children:[(0,i.jsx)(o.td,{children:(0,i.jsx)(o.strong,{children:"GCM"})}),(0,i.jsx)(o.td,{children:"Forte"}),(0,i.jsx)(o.td,{children:"\u2705"}),(0,i.jsx)(o.td,{children:"Alta (com acelera\xe7\xe3o de hardware)"}),(0,i.jsx)(o.td,{children:"TLS, IPsec, APIs"})]})]})]}),"\n",(0,i.jsx)(o.h3,{id:"boas-pr\xe1ticas",children:"Boas pr\xe1ticas"}),"\n",(0,i.jsx)(o.p,{children:"N\xe3o adianta usar AES com um modo bom e estragar tudo com erro bobo. Ent\xe3o anota a\xed:"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"N\xe3o repita IVs (vetores de inicializa\xe7\xe3o). CTR e GCM quebram feio se voc\xea fizer isso."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"N\xe3o use ECB. Em hip\xf3tese nenhuma."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Gere chaves aleat\xf3rias de verdade. Nada de senha do usu\xe1rio convertida pra hex."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Valide a tag do GCM. N\xe3o \u201cdeixe passar\u201d se a autentica\xe7\xe3o falhar."}),"\n"]}),"\n",(0,i.jsxs)(o.li,{children:["\n",(0,i.jsx)(o.p,{children:"Evite reutilizar chaves com dados diferentes por longos per\xedodos."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"3-conclus\xe3o",children:"3. Conclus\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"O AES s\xf3 \xe9 seguro se acoplado da maneira certa. Al\xe9m do mais aprender o algoritmo \xe9 s\xf3 metade do caminho. Escolher o modo certo e us\xe1-lo corretamente \xe9 o que diferencia quem entende de quem s\xf3 copia c\xf3digo."})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,o,a)=>{a.d(o,{R:()=>n,x:()=>d});var s=a(6540);const i={},r=s.createContext(i);function n(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function d(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);